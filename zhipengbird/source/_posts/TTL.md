---
title: TTL
date: 2016-08-01 21:50:49
tags:
---

__[TTL(生存时间值)](http://baike.baidu.com/subview/2696/13746361.htm#reference-[1]-13746361-wrap)__：
TTL是time to live的缩写，该字段指定IP包被路由器丢弃之前允许通过的最大网段数量，TTL就IPv4包头的一个8bit字段。
TTL 的作用是限制IP数据包在计算机网络中的存在时间。TTL的最大值是255,TTL的一个推荐值是64。
虽然TTL从字面上翻译，是可以存活时间，但实际上TTL是IP数据包在计算机网络中可以转发的最大跳数。TTL字段由IP数据包发送者设置，在IP数据包从源到目的整个转发路径上，每经过一个路由器，路由器都会修改这个TTL字段值，具体的做法是把TTL值减1,然后将IP包转发出去。如果在IP包到达目的IP之前，TTL的值减为0,路由器将会丢弃收到的TTL＝0的IP包，并向IP包的发送者发送ICMP time exceeded消息。
生存时间，就是一条域名解析记录在DNS服务器中的存留时间。当各地的DNS服务器接受到解析请求时，就会向域名指定的NS服务器(权威域名服务器）发出解析请求从而获得解析记录；在获得这个记录之后，记录会在DNS服务器(各地的缓存服务器，也叫递归域名服务器）中保存一段时间，这段时间内如果再接到这个域名的解析请求，DNS服务器将不再向NS服务器发出请求，而是直接返回刚才获得的记录；而这个记录在DNS服务器上保留的时间，就是TTL值。[1]
